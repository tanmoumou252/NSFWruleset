port: 10808
socks-port: 10809
allow-lan: true
mode: Rule
log-level: info
external-controller: 0.0.0.0:1443
dns:
  enable: true
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16   # if you don't know what it is, don't change it
  use-hosts: true                # lookup hosts and return IP record
  nameserver:                     
    - 8.8.8.8                    # éšä¾¿å¡«å†™ä½ å–œæ¬¢çš„DNS
    - 1.1.1.1                    # cloudflare
  fallback:                      # ä¸Šé¢çš„DNSéƒ½è§£æå¤±è´¥åˆ™ä½¿ç”¨ä¸‹é¢çš„DNS                    
                  
  fallback-filter: 
    geoip: true                  # default    
    ipcidr:                      # ips in these subnets will be considered polluted
      - 240.0.0.0/4
      
# å»ºè®®ä½¿ç”¨æ”¯æŒè¯­æ³•é«˜äº®çš„ç¼–è¾‘è½¯ä»¶æ‰“å¼€æœ¬é…ç½®ï¼Œæ–¹ä¾¿é˜…è¯»æ³¨é‡Š
# intervalä»£è¡¨é—´éš”æ—¶é—´ï¼Œå•ä½ä¸ºs
# toleranceä»£è¡¨å®¹å·®æ—¶é—´ï¼Œå•ä½ä¸ºms
# ç”±äºåˆ†æµè§„åˆ™å¼•ç”¨äº†Githubæ–‡ä»¶ï¼Œå¦‚æœä½ çš„æœ¬åœ°ç½‘ç»œæ— æ³•è®¿é—®Githubï¼Œä½ å°†æ— æ³•è®©Clashæ­£å¸¸å·¥ä½œã€‚
# ä½ éœ€è¦å…ˆä½¿ç”¨ç¿»å¢™å·¥å…·è®©æœ¬åœ°ç½‘ç»œå‡ºå¢™ï¼Œå†å¯åŠ¨Clashæ‰èƒ½æ­£å¸¸ä¸‹è½½åˆ†æµè§„åˆ™å¹¶æ­£å¸¸å¯åŠ¨ï¼Œå¾…Clahså¯åŠ¨æˆåŠŸå¹¶æ›´æ–°å®Œè®¢é˜…èµ„æºå’Œåˆ†æµè§„åˆ™ä¹‹åï¼Œæ–¹å¯å…³é—­ä½ ä¹‹å‰æ‰“å¼€çš„ç¿»å¢™å·¥å…·ã€‚
# è¯·ä½¿ç”¨èŠ‚ç‚¹è®¢é˜…è½¬æ¢æœåŠ¡å°†æœåŠ¡å•†çš„è®¢é˜…é“¾æ¥è½¬æ¢ä¸ºClashçš„è®¢é˜…ï¼Œå¹¶è¾“å‡ºä¸ºNode Listæ ¼å¼ã€‚
# è¯·ä½¿ç”¨èŠ‚ç‚¹è®¢é˜…è½¬æ¢å·¥å…·æä¾›çš„ä¿ç•™èŠ‚ç‚¹å’Œè¿‡æ»¤èŠ‚ç‚¹åŠŸèƒ½ï¼Œç”Ÿæˆä¸åŒåœ°åŒºçš„è®¢é˜…é“¾æ¥ï¼Œå¹¶å¡«å…¥ä¸‹æ–¹proxy-providersåŒºåŸŸã€‚
# Windowsä¸‹ï¼Œåœ¨CFWæ ¹ç›®å½•å»ºç«‹Dataæ–‡ä»¶å¤¹å¯å°†é…ç½®æ–‡ä»¶ä¿ç•™åœ¨åŒæ–‡ä»¶å¤¹å†…ï¼Œè€Œä¸æ˜¯ä¿å­˜åœ¨%UserName%/.config/clash/
# å…¶ä»–å†…å®¹å…·ä½“è§æ³¨é‡Šã€‚
# èŠ‚ç‚¹è®¢é˜…è½¬æ¢ç½‘å€ https://api.hope140.cc

# èŠ‚ç‚¹è®¢é˜…
# é»˜è®¤æ¯å…­å°æ—¶æ›´æ–°ä¸€æ¬¡èŠ‚ç‚¹è®¢é˜…
proxy-providers:  
  å…¨çƒèŠ‚ç‚¹:
    type: http
    path: ./Proxy/å…¨çƒèŠ‚ç‚¹.yml
    url:   #å¡«å†™è®¢é˜…è¿æ¥ï¼Œæ³¨æ„ç©ºæ ¼
    interval: 3600
    filter: "^(?!.*?[æµé‡|åˆ°æœŸ|é‡ç½®]).*?$" #å¦å®šå¼å‰ç» åŸºæœ¬è¡¨è¾¾å¼ä¸º^(?!åŒ¹é…æ¨¡å¼),å«æœ‰æµé‡|åˆ°æœŸ|é‡ç½®çš„èŠ‚ç‚¹ä¼šè¢«æ’é™¤
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
      
  0.1å€ç‡:
    type: file                 #è®¢é˜…å°±æ”¹httpï¼Œå’Œä¸Šé¢çš„å…¨çƒèŠ‚ç‚¹ä¸€è‡´ï¼Œå› ä¸ºä¸Šé¢å·²ç»ä¿å­˜è¿‡ä¸€æ¬¡è®¢é˜…æ–‡ä»¶äº†ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨ç°æˆçš„file
    path: ./Proxy/å…¨çƒèŠ‚ç‚¹.yml   
    interval: 3600
    filter: å€ç‡0.1             #å«æœ‰â€œå€ç‡0.1â€çš„èŠ‚ç‚¹æ‰ä¼šå‡ºç°
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300  
             
# èŠ‚ç‚¹ç»„
# é»˜è®¤æ¯åˆ†é’Ÿæµ‹è¯•ä¸€æ¬¡èŠ‚ç‚¹å»¶æ—¶
# å®¹å·®å‚æ•°æœªå¼€å¯æ—¶é»˜è®¤ä¸º0ms
proxy-groups:
  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - ğŸ¯ å…¨çƒç›´è¿
      - ğŸš€ æ‰‹åŠ¨åˆ‡æ¢

  - name: ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
    type: select
    use:
      - å…¨çƒèŠ‚ç‚¹     

  - name: ğŸ“² ç”µæŠ¥æ¶ˆæ¯
    type: select    
    proxies:
      - ğŸš€ æ‰‹åŠ¨åˆ‡æ¢       
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ”¯ æ•…éšœè½¬ç§»
     
  - name: ğŸ® æ¸¸æˆå¹³å°
    type: select
    proxies:
      - ğŸ¯ å…¨çƒç›´è¿     
      - ğŸš€ æ‰‹åŠ¨åˆ‡æ¢       

  - name: ğŸ¯ å…¨çƒç›´è¿
    type: select
    proxies:
      - DIRECT
             
  - name: ğŸ›‘ éšç§æ‹¦æˆª
    type: select
    proxies:
      - REJECT 
      
  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use:
      - å…¨çƒèŠ‚ç‚¹

  - name: ğŸ”¯ æ•…éšœè½¬ç§»
    type: fallback
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use:
      - 0.1å€ç‡                                #æ³¨æ„è¿™é‡Œå†™çš„æ˜¯èŠ‚ç‚¹ç»„2çš„èŠ‚ç‚¹
    
     

# åˆ†æµè§„åˆ™è®¢é˜…
# é»˜è®¤æ¯äºŒåå››å°æ—¶æ›´æ–°ä¸€æ¬¡åˆ†æµè§„åˆ™
rule-providers:

  NSFW:
    type: http
    behavior: classical
    path: ./RuleSet/NSFW.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/tanmoumou252/NSFWruleset/main/NSFW.yaml
    interval: 86400
    
  China:
    type: http
    behavior: classical
    path: ./RuleSet/China.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/China/China.yaml
    interval: 86400

  AdvertisingTest:
    type: http
    behavior: classical
    path: ./RuleSet/AdvertisingTest.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AdvertisingTest/AdvertisingTest.yaml
    interval: 86400

  Google:
    type: http
    behavior: classical
    path: ./RuleSet/Google.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml
    interval: 86400

  GoogleDrive:
    type: http
    behavior: classical
    path: ./RuleSet/GoogleDrive.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GoogleDrive/GoogleDrive.yaml
    interval: 86400

  OneDrive:
    type: http
    behavior: classical
    path: ./RuleSet/OneDrive.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OneDrive/OneDrive.yaml
    interval: 86400

  Microsoft:
    type: http
    behavior: classical
    path: ./RuleSet/Microsoft.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml
    interval: 86400

  Github:
    type: http
    behavior: classical
    path: ./RuleSet/Github.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub.yaml
    interval: 86400  

  Apple:
    type: http
    behavior: classical
    path: ./RuleSet/Apple.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple.yaml
    interval: 86400

  Telegram:
    type: http
    behavior: classical
    path: ./RuleSet/Telegram.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml
    interval: 86400

  Game:
    type: http
    behavior: classical
    path: ./RuleSet/Game.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/Game.yaml
    interval: 86400

  YouTube:
    type: http
    behavior: classical
    path: ./RuleSet/YouTube.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml
    interval: 86400

  Bahamut:
    type: http
    behavior: classical
    path: ./RuleSet/Bahamut.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Bahamut/Bahamut.yaml
    interval: 86400

  GlobalMedia:
    type: http
    behavior: classical
    path: ./RuleSet/GlobalMedia.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GlobalMedia/GlobalMedia.yaml
    interval: 86400

  Bilibili:
    type: http
    behavior: classical
    path: ./RuleSet/Bilibili.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml
    interval: 86400

  ChinaMedia:
    type: http
    behavior: classical
    path: ./RuleSet/ChinaMedia.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaMedia/ChinaMedia.yaml
    interval: 86400

  Developer:
    type: http
    behavior: classical
    path: ./RuleSet/Developer.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Developer/Developer.yaml
    interval: 86400           

  Proxy:
    type: http
    behavior: classical
    path: ./RuleSet/Proxy.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/hope140/Clash/beta/Proxy.yaml
    interval: 86400         

  Download:
    type: http
    behavior: classical
    path: ./RuleSet/Download.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Download/Download.yaml
    interval: 86400    

  Lan:
    type: http
    behavior: classical
    path: ./RuleSet/Lan.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.yaml
    interval: 86400    

  Firefox:  #è¯¥åˆ†ç»„åˆ’åˆ°äº†ç›´è¿ï¼Œä½†æ˜¯firefoxå•†åº—adblockç­‰å¹¿å‘Šå±è”½æ’ä»¶ç›´è¿æ˜¯æ— æ³•å®‰è£…çš„ï¼Œéœ€è¦å‡ºå›½
    type: http
    behavior: classical
    path: ./RuleSet/Firefox.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/tanmoumou252/firefoxruleset/main/Firefox.yaml
    interval: 86400   



# åˆ†æµè§„åˆ™
rules:
  - RULE-SET,NSFW,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - RULE-SET,Download,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Firefox,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Lan,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,AdvertisingTest,ğŸ›‘ éšç§æ‹¦æˆª
  - RULE-SET,Google,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - RULE-SET,GoogleDrive,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - RULE-SET,OneDrive,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Microsoft,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Apple,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Telegram,ğŸ“² ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,Game,ğŸ® æ¸¸æˆå¹³å°
  - RULE-SET,YouTube,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - RULE-SET,Bahamut,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢    
  - RULE-SET,GlobalMedia,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢ 
  - RULE-SET,Bilibili,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,ChinaMedia,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Github,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - RULE-SET,Developer,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - RULE-SET,Proxy,ğŸš€ æ‰‹åŠ¨åˆ‡æ¢
  - RULE-SET,China,ğŸ¯ å…¨çƒç›´è¿
  - GEOIP,CN,DIRECT
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
